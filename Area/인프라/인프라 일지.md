
- ssh 접속 MobaXterm 사용
- 포트 상황
	- 22
	- 80
	- 443
	- 8080 : 젠킨스 사용자 - 젠킨스 마스터
	- 8989 : gerrit 사용안함
	- 50000 : 젠킨스 마스터 - 젠킨스 에이전트

### 할 일
- 젠킨스 다운로드 실패 했던거 다시 설치하기

### 요일별 기록

24-03-11
1. datetimectl 설정 Asia/Seoul
	- ```sudo datetimectl set-timezone Asia/seoul```
2. 포트 상태
	- 22번 열린 채로 EC2 서버 받음
	- 80번 포트 열었음 ```sudo ufw allow 80```
3. 미러 서버 변경
	- 설정 파일 열기 ```sudo vi /etc/apt/sources.list```
	- 주소 수정 ```:%s/kr.archive.ubuntu.com/mirror.kakao.com/
		- 꼭 kr.archive.ubuntu.com 이 아닐 수 있음 기존 미러서버 주소를 넣으면 됨
	- apt 업데이트 ```sudo apt-get update```
4. nginx 설치
	- 설치 ```sudo apt install nginx -y```
	- 상태 확인 ```sudo systemctl status nginx```
5. SSL 설정(HTTPs 적용 - letsencrypt, Certbot 설치)
	- 설치1 ```sudo apt-get install letsencrypt```
	- 설치2 ```sudo apt-get install certbot python3-certbot-nginx```
	- Certbot-NGINX 연결 ```sudo certbot --nginx```
	- 적용 확인 https://www.ssllabs.com/ssltest/analyze.html?d=j10e201.p.ssafy.io
6. Docker 설치 
	- https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository
```
# Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update

sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

// test
sudo docker run hello-world
```

7. GPU 서버
	- 아이디 j10e201 비밀번호 j10e201a!
8. 젠킨스 설치 ( Docker volume 생성 및 로그인 )
	- 도커 볼륨 생성 ```sudo docker volume create myvol```
	- 도커 허브 로그인 ```sudo docker login```
	- 젠킨스 이미지 다운로드 ```docker image pull jenkins/jenkins:lts```
	- 도커 컨테이너 실행 
	  ```docker run -p 8080:8080 -p 50000:50000 -v myvol:/var/jenkins_home jenkins/jenkins:lts```
	- Jenkins initial setup is required. An admin user has been created and a password generated. 
	  Please use the following password to proceed to installation: 
	  ```4bedcc62f10c43488665f11e774e524a```
	  This may also be found at: /var/jenkins_home/secrets/initialAdminPassword





