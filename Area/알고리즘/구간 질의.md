구간 질의(Range Query)란 데이터의 연속적인 구간에 대한 정보를 조회하는 작업을 말합니다. 주어진 데이터 배열이나 자료 구조에서 특정 구간에 해당하는 원소들에 대한 질의를 수행하는 것이 구간 질의입니다.

예를 들어, 배열이 주어졌을 때 배열의 특정 구간에 대한 합, 최솟값, 최댓값 등을 계산하는 것이 구간 질의에 해당합니다. 구간 질의는 데이터 분석, 알고리즘 문제 해결 등 다양한 분야에서 사용됩니다.

구간 질의는 효율적으로 수행되어야 하는데, 특히 큰 데이터셋에 대해 매우 빠른 시간 내에 연산을 수행할 수 있어야 합니다. 이를 위해 다양한 자료 구조와 알고리즘이 사용되는데, [[세그먼트 트리]], 이진 인덱스 트리, 스위핑 알고리즘 등이 주로 사용됩니다.

### 1. 브루트 포스 (Brute Force)

- **방법**: 매 질의마다 주어진 구간을 순회하면서 결과를 계산합니다.
- **장점**: 구현이 간단합니다.
- **단점**: 매 질의마다 O(n)의 시간 복잡도가 걸리므로, 질의가 많을 경우 비효율적입니다. (n은 배열의 길이)

### 2. 누적 합 (Prefix Sum)

- **방법**: 배열의 시작부터 각 위치까지의 누적 합을 미리 계산해둡니다. 구간의 합을 구할 때는 `누적 합[구간 끝] - 누적 합[구간 시작 - 1]`을 계산합니다.
- **장점**: 질의를 O(1)에 처리할 수 있어 빠릅니다.
- **단점**: 구간 합만 계산할 수 있고, 배열의 값이 변경될 경우 누적 합을 다시 계산해야 합니다.

### 3. 세그먼트 트리 (Segment Tree)

- **방법**: 트리 구조를 사용해 배열을 여러 구간으로 나누고, 각 구간의 합(또는 최소값, 최대값 등)을 노드에 저장합니다. 질의는 트리를 탐색하여 처리합니다.
- **장점**: 구간 합, 최소값, 최대값 등 다양한 질의를 로그 시간에 처리할 수 있습니다. 또한, 배열의 값이 변경될 때 업데이트도 로그 시간에 가능합니다.
- **단점**: 구현이 복잡하며, 메모리 사용량이 더 많습니다.

### 4. 펜윅 트리 (Fenwick Tree, Binary Indexed Tree)

- **방법**: 세그먼트 트리와 유사한 개념이지만, 메모리 사용량과 구현 복잡도를 줄인 자료구조입니다. 각 위치의 값이 특정 이진 인덱스 구조에 따라 누적되어 저장됩니다.
- **장점**: 세그먼트 트리보다 구현이 더 간단하며, 구간 합 계산과 업데이트를 로그 시간에 처리할 수 있습니다.
- **단점**: 세그먼트 트리에 비해 다양성이 떨어집니다. 예를 들어, 구간 최소값이나 최대값 질의를 처리하는 데는 적합하지 않습니다.

### 5. 스파스 테이블 (Sparse Table)

- **방법**: 구간의 최소값, 최대값 등을 O(1)에 조회할 수 있도록 미리 처리해두는 자료구조입니다. 로그 시간 복잡도로 구간 질의를 처리할 수 있으며, 주로 변경되지 않는 데이터에 사용됩니다.
- **장점**: 질의를 빠르게 처리할 수 있으며, 사전 처리 후에는 변경되지 않는 데이터에 대해 효율적입니다.
- **단점**: 배열의 값이 변경될 경우 다시 사전 처리를 해야 하며, 구현이 다소 복잡할 수 있습니다.