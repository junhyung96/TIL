Cross-site Scripting
기초적인 취약점 공격 방법
악의적인 사용자가 공격하려는 사이트에 스크립트를 넣는 기법

### 기법
스크립트 태그
```
<script>alert('XSS');</script>
```
자바스크립트 링크
```
<a href="javascript:alert('XSS')">XSS</a>
```
이벤트 속성
```
<img src="#" onerror="alert('XSS')">
```
블랙리스트 우회
```
<ruby oncopy="alert('XSS')">XSS</ruby>
```
내용 난독화
```
<a href="&#x6A;&#x61;&#x76;&#x61;&#x73;&#xA;&#x63;&#x72;&#x69;&#x70;&#x74;&#xA;&#x3A;&#xA;&#x61;&#x6C;&#x65;&#x72;&#x74;&#xA;&#x28;&#x27;&#x58;&#x53;&#x53;&#x27;&#x29;">XSS</a>
```
스크립트난독화
```
ﾟωﾟﾉ= /｀ｍ´）ﾉ ~┻━┻ //*´∇｀*/ ['_']; o=(ﾟ......
```
등의 스크립트 주입하여 실행함

### 방어 방법
입력 필터 : HTML 코드가 아닌 단순 문자로 인식하게 하는 것
- 라이브러리 제작 혹은 이용
- BBCode 사용
출력 필터 : HTML5부터 iframe 의 sandbox 옵션으로 iframe 내의 자바스크립트, 폼과 같은 것의 제한이 가능
쿠키의 보안 옵션 사용
CSP 콘텐츠 보안 정책 사용

### OWASP에서 XSS 공격을 방지하는 7계명
0. 허용된 위치가 아닌 곳에 신뢰할 수 없는 데이터가 들어가는것을 허용하지 않는다.  
1. 신뢰할 수 없는 데이터는 검증을 하여라.  
2. HTML 속성에 신뢰할 수 없는 데이터가 들어갈 수 없도록 하여라.  
3. [자바스크립트](https://namu.wiki/w/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8 "자바스크립트")에 신뢰할 수 없는 값이 들어갈 수 없도록 하여라.  
4. [CSS](https://namu.wiki/w/CSS "CSS")의 모든 신뢰할 수 없는 값에 대해서 검증하여라.  
5. URL 파라미터에 신뢰할 수 없는 값이 있는지 검증하여라.  
6. HTML 코드를 전체적으로 한번 더 검증하여라.

**OWASP : 오픈소스 웹 애플리케이션 보안 프로젝트**

### 화이트리스트, 블랙리스트의 차이
화이트리스트 : 기본 정책이 모두 차단된 상태에서 예외적으로 접근 가능한 대상을 지정
블랙리스트: 기본 정책이 모두 허용된 상태에서 예외적으로 차단하는 대상을 지정
#### 출처
나무위키 XSS 문서